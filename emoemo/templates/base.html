{% load static %}
{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="ja">
    <head>
        <title>emoemo</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        {% tailwind_css %}
        <link rel="stylesheet" href="{% static 'css/font.css' %}">
    </head>
    {% load django_browser_reload %}
    <body class="h-screen">
        <div class="text-gray-600 body-font shadow-md">
            <div class="container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center max-w-4xl">
                <a class="flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0 ml-3 text-xl"
                   href="{% url 'index' %}">emoemo</a>
            </div>
        </div>
        <div class="container mx-auto flex flex-wrap p-5 flex-col items-center max-w-3xl">
            <section class="text-gray-600 body-font">
                <div class="container px-5 py-24 mx-auto">
                    <h1 class="sm:text-3xl text-2xl font-medium title-font text-center text-gray-900 mb-20">make emojiüöÄ</h1>
                    <form method="get">
                        <div class="flex flex-wrap sm:-m-4 -mx-4 -mb-10 -mt-4 md:space-y-0 space-y-6">
                            <div class="p-4 md:w-1/3 flex">
                                <div class="flex-grow pl-6">
                                    <h2 class="text-gray-900 text-lg title-font font-medium mb-2 w-32">select font</h2>
                                    <ul class="w-48 text-sm font-medium border rounded-lg">
                                        <li class="w-full border-b rounded-t-lg">
                                            <div class="flex items-center ps-3">
                                                {% comment %} FIXME: „É©„Ç∏„Ç™„Éú„Çø„É≥„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„ÅÆÂπÖ„ÇíÂ∫É„Åí„Çã {% endcomment %}
                                                <input id="list-radio-license"
                                                       type="radio"
                                                       value="rounded-mplus-1c-black"
                                                       name="font-name"
                                                       class="w-4 h-4"
                                                       checked>
                                                <label for="list-radio-license"
                                                       class="w-full py-3 ms-2 text-sm font-medium rounded-mplus-1c-black">
                                                    rounded-mplus black
                                                </label>
                                            </div>
                                            <div class="flex items-center ps-3">
                                                <input id="rounded-mplus-medium"
                                                       type="radio"
                                                       value="rounded-mplus-1c-medium"
                                                       name="font-name"
                                                       class="w-4 h-4">
                                                <label for="list-radio-license"
                                                       class="w-full py-3 ms-2 text-sm font-medium rounded-mplus-1c-medium">
                                                    rounded-mplus medium
                                                </label>
                                            </div>
                                        </li>
                                    </ul>
                                    <label>
                                        <input type="color"
                                               name="font-color"
                                               {% if font_color %}value="{{ font_color }}"{% endif %}>
                                    </label>
                                </div>
                            </div>
                            <div class="p-4 md:w-1/3 flex">
                                <div class="flex-grow pl-6 w-32">
                                    <h2 class="text-gray-900 text-lg title-font font-medium mb-2 w-32">input text</h2>
                                    <label for="input-text"></label>
                                    <textarea id="input-text"
                                              class="w-32 rounded border border-gray-400 focus:outline-none focus:border-indigo-500 text-base px-4 py-2 h-32 mb-4 block"
                                              rows="4"
                                              cols="2"
                                              name="font-text">{% if font_text %}{{ font_text }}{% endif %}</textarea>
                                    <div class="w-32">
                                        <button type="submit"
                                                id="create-button"
                                                class="w-full bg-gray-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                                            create
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="p-4 md:w-1/3 flex">
                                <div class="flex-grow pl-6">
                                    <h2 class="text-gray-900 text-lg title-font font-medium mb-2 w-32">output emoji</h2>
                                    {% if font_text %}
                                        <img src="{% static emoji_img %}" alt="emoji" class="w-32 h-32 mb-4">
                                        <div class="w-32">
                                            <a href="{% static 'emoji_img' %}"
                                               download="{% static 'emoji_img' %}"
                                               class="w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline inline-block text-center box-border">
                                                Download
                                            </a>
                                        </div>
                                    {% else %}
                                        <div class="w-32 h-32 mb-4 border-2">
                                            <div>emoji„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã„ÇàÔºÅ</div>
                                        </div>
                                        <div>
                                            <button class="bg-gray-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                                                    disabled>create first!</button>
                                        </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </section>
        </div>
    </body>
</html>
<script>
    const createButton = document.getElementById('create-button');
    const inputText = document.getElementById('input-text');
    
    // FIXME: „Éú„Çø„É≥„ÅÆdisabled„ÇíÂàá„ÇäÊõø„Åà„ÇãÂá¶ÁêÜ„ÇíÈñ¢Êï∞Âåñ„Åô„Çã
    if (inputText.value === '') {
        createButton.disabled = true;
        createButton.classList.add('bg-gray-600');
        createButton.classList.remove('bg-blue-500');
        createButton.classList.remove('hover:bg-blue-700');
    } else {
        createButton.disabled = false;
        createButton.classList.remove('bg-gray-600');
        createButton.classList.add('bg-blue-500');
        createButton.classList.add('hover:bg-blue-700');
    }
    
    inputText.addEventListener('input', () => {
        if (inputText.value === '') {
            createButton.disabled = true;
            createButton.classList.add('bg-gray-600');
            createButton.classList.remove('bg-blue-500');
            createButton.classList.remove('hover:bg-blue-700');
            
        } else {
            createButton.disabled = false;
            createButton.classList.remove('bg-gray-600');
            createButton.classList.add('bg-blue-500');
            createButton.classList.add('hover:bg-blue-700');
        }
    });
    
    const fontName = '{{ font_name }}';
    const fontNameRadio = document.querySelector(`input[value="${fontName}"]`);
    fontNameRadio.checked = true;
    
    

</script>
